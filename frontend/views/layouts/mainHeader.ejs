<!-- MAIN HEADER -->
<div id="header">
    <!-- container -->
    <div class="container">
        <!-- row -->
        <div class="row">
            <!-- LOGO -->
            <div class="col-md-3">
                <div class="header-logo">
                    <a href="#" class="logo">
                        <img src="./img/logo.png" alt="">
                    </a>
                </div>
            </div>
            <!-- /LOGO -->

            <!-- SEARCH BAR -->
            <div class="col-md-6">
                <div class="header-search">
                    <form>
                        <select class="input-select">
                            <option value="0">
                                <%= __(`AllCategories`) %>
                            </option>
                            <% categories.forEach( category=> {%>
                                <!-- MỖI OPTIONS MỘT ID -->
                                <option value="<%=category._id%>">
                                    <%= __(`${category.name}`)%>
                                </option>
                                <%})%>
                        </select>
                        <input class="input" placeholder="<%=__(" Searchhere")%>" id="searchInput">
                        <button class="search-btn" id="searchButton">
                            <%=__("Search")%>
                        </button>
                    </form>
                </div>
            </div>
            <form id="searchForm" method="post" action="/api/v1/products/search-key" style="display: none;">
                <input type="hidden" name="keyword" id="searchInputHidden">
            </form>
            <script>
                const searchInput = document.getElementById('searchInput');
                const searchButton = document.getElementById('searchButton');
                const searchForm = document.getElementById('searchForm');
                const searchInputHidden = document.getElementById('searchInputHidden');

                searchButton.addEventListener('click', () => {
                    event.preventDefault();// ngăn chặn hành vi mặc định không ảnh hưởng bỏi form trên
                    const keyword = searchInput.value;
                    searchInputHidden.value = keyword;
                    searchForm.submit(); // Gửi yêu cầu tìm kiếm bằng form ẩn
                });
            </script>

            <!-- /SEARCH BAR -->

            <!-- ACCOUNT -->
            <div class="col-md-3 clearfix">
                <div class="header-ctn">
                    <div>
                        <% if (isLoggedIn) { %>
                            <a href="/api/v1/users/profile/<%=user.id%>">
                                <i class="fa fa-user"></i>
                                <span>
                                    <%= __('Profile')%>
                                </span>
                            </a>
                            <%}else{%>
                                <a href="">
                                    <i class="fa fa-user"></i>
                                    <span>
                                        <%= __("Profile") %>
                                    </span>
                                </a>
                                <%}%>
                    </div>
                    <!-- /Wishlist -->

                    <!-- Cart -->
                    <div class="dropdown">
                        <select id="languageSelect" onchange="changeLanguage(this.value)">
                            <option>
                                <%= __("Changelanguage") %>
                            </option>
                            <li>
                                <option value="en">
                                    <a>
                                        <%= __("English") %>
                                    </a>
                                </option>
                            </li>
                            <li>
                                <option value="vi">
                                    <a>
                                        <%= __("Vietnamese") %>
                                    </a>
                                </option>
                            </li>
                        </select>
                    </div>
                    <!-- /Cart -->

                    <!-- Menu Toogle -->
                    <div class="menu-toggle">
                        <a href="#">
                            <i class="fa fa-bars"></i>
                            <span>Menu</span>
                        </a>
                    </div>
                    <!-- /Menu Toogle -->
                </div>
            </div>
            <!-- /ACCOUNT -->
        </div>
        <!-- row -->
    </div>
    <!-- container -->
</div>
<!-- /MAIN HEADER -->